# Telegram Bot –Ω–∞ Go —Å Yandex GPT

Intelligent Telegram –±–æ—Ç —Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–µ–π Yandex GPT API, –Ω–∞–ø–∏—Å–∞–Ω–Ω—ã–π –Ω–∞ Go –∏ –∑–∞–ø—É—Å–∫–∞–µ–º—ã–π —á–µ—Ä–µ–∑ Docker Compose.

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Yandex GPT** - –∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ Yandex GPT API
- **–£–º–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - –±–æ—Ç –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–Ω–∞–ª–∏–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é –ò–ò
- **Fallback –≤ —ç—Ö–æ-—Ä–µ–∂–∏–º** - –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫ –ø—Ä–æ—Å—Ç–æ–º—É —ç—Ö–æ
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ –æ—Ç–≤–µ—Ç–æ–≤ API
- –ì–æ—Ç–æ–≤ –∫ –∑–∞–ø—É—Å–∫—É –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞

1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ –≤ Telegram:**
   - –ù–∞–ø–∏—à–∏—Ç–µ [@BotFather](https://t.me/BotFather) –≤ Telegram
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–≥–æ –±–æ—Ç–∞ –∫–æ–º–∞–Ω–¥–æ–π `/newbot`
   - –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞

2. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Yandex Cloud:**
   - –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç –≤ [Yandex Cloud](https://cloud.yandex.ru/)
   - –ü–æ–ª—É—á–∏—Ç–µ Catalog ID –∏–∑ –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud
   - –°–æ–∑–¥–∞–π—Ç–µ API —Ç–æ–∫–µ–Ω –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Yandex GPT

3. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:**
   ```bash
   TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω_–æ—Ç_BotFather
   YANDEX_CLOUD_CATALOG_ID=–≤–∞—à_catalog_id
   YANDEX_CLOUD_TOKEN=–≤–∞—à_yandex_api_token
   ```

4. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞:**
   ```bash
   docker-compose up --build
   ```

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ** –±–æ—Ç—É –≤ Telegram
2. **–ë–æ—Ç –ø–æ–ª—É—á–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ** –∏ –ª–æ–≥–∏—Ä—É–µ—Ç –µ–≥–æ
3. **–°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è** –≤ Yandex GPT API –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
4. **Yandex GPT –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç** —Ç–µ–∫—Å—Ç –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —É–º–Ω—ã–π –æ—Ç–≤–µ—Ç
5. **–ë–æ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç** –æ—Ç–≤–µ—Ç –æ—Ç GPT –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é
6. **–í —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏** API –±–æ—Ç —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —ç—Ö–æ-—Ä–µ–∂–∏–º–µ

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)
- `YANDEX_CLOUD_CATALOG_ID` - ID –∫–∞—Ç–∞–ª–æ–≥–∞ Yandex Cloud (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)  
- `YANDEX_CLOUD_TOKEN` - API —Ç–æ–∫–µ–Ω Yandex Cloud (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
tgbot/
‚îú‚îÄ‚îÄ main.go                    # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ pkg/                       # –ü–∞–∫–µ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ config.go         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ gpt/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ client.go         # Yandex GPT API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ bot/
‚îÇ       ‚îî‚îÄ‚îÄ handlers.go       # Telegram –±–æ—Ç handlers
‚îú‚îÄ‚îÄ go.mod                     # Go –º–æ–¥—É–ª–∏
‚îú‚îÄ‚îÄ go.sum                     # Go –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ Dockerfile                 # Docker –æ–±—Ä–∞–∑
‚îú‚îÄ‚îÄ docker-compose.yml         # Docker Compose –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env                       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é)
‚îî‚îÄ‚îÄ README.md                 # –≠—Ç–æ—Ç —Ñ–∞–π–ª
```

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### üì¶ –ü–∞–∫–µ—Ç—ã:
- **`pkg/config`** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- **`pkg/gpt`** - –∫–ª–∏–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Yandex GPT API
- **`pkg/bot`** - –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ Telegram –±–æ—Ç–∞
- **`main.go`** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

### –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ (–±–µ–∑ Docker)
```bash
go mod tidy
export TELEGRAM_BOT_TOKEN="–≤–∞—à_—Ç–æ–∫–µ–Ω"
go run main.go
```

### –ó–∞–ø—É—Å–∫ –≤ Docker
```bash
docker-compose up --build
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker-compose logs -f tgbot
```

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `TELEGRAM_BOT_TOKEN` - —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –æ—Ç BotFather (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

–≠—Ç–æ—Ç –±–∞–∑–æ–≤—ã–π –±–æ—Ç –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å:
- –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—ã (/start, /help –∏ —Ç.–¥.)
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
- –î–æ–±–∞–≤–∏—Ç—å middleware –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—É—é –ª–æ–≥–∏–∫—É –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
